{% extends 'layout.html' %}
{% load static %}
{% block content %}
<section class="profile-container" id="empuje">
<form class="mx-auto p-3" method="post" action="" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="profile-container flex-md-column flex-sm-column w-100 p-xxl-3 p-xl-3 p-lg-3">
        <div class="d-xxl-flex d-xl-flex d-lg-flex w-100">
        <div class="m-3 p-3 d-flex profile-box align-items-center flex-wrap"> 
            <img class="profile-box-child" id="profileimage" src="{{request.user.imagen.url|cut:"export=download"}}" alt="foto-perfil" style="width: 50px; height: 50px; border-radius: 100%; object-fit: cover;-o-object-fit: cover;">
            <label class="ms-3 btn btn-default btn-file file-btn" >
                Escoger foto de perfil<input name="imagen" id="profileimg" type="file" accept="image/*" default="{{request.user.imagen}}" style="display: none;">
            </label>
            <hr style="width: 100%;">
            <label for=""style="">Nombre</label>
            <input class="mt-3 form-control" name="nombres" type="text" value="{{request.user.nombres}}" ></input>
            <br>
            <label for=""style="">Apellido</label>
            <input class="mt-3 form-control" name="apellidos" type="text" value="{{request.user.apellidos}}" ></input>
            <label class="mt-3" for="">Descripcion</label>
            <textarea class=" form-control" name="bio" type="textarea" value="">{{request.user.bio}}</textarea>
            <p class="mt-2 text-edit text-decoration-underline"><a href="{% url 'nueva_contraseña' %}">Cambiar contraseña</a></p>
        </div>
        <div class="m-3 p-3 dato-box flex-column">
            <h3 class="profile-title-text">Datos del Vendedor</h3>
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="edit-icon d-inline bi bi-person-fill" viewBox="0 0 16 16">
                <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
            </svg>
            <input id="editp" class="mb-2 form-control" name="username" type="text" value="{{request.user.username}}"></input>
            <br>
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="edit-icon d-inline bi bi-geo-alt-fill" viewBox="0 0 16 16">
                <path d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"/>
            </svg>
            <input id="editp" class="mb-2 form-control" name="provincia" type="text" value="{{request.user.provincia}}"></input>
            <br>
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="edit-icon d-inline bi bi-phone-fill" viewBox="0 0 16 16">
                <path d="M3 2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V2zm6 11a1 1 0 1 0-2 0 1 1 0 0 0 2 0z"/>
            </svg>
            <input id="editp" class="mb-2 form-control" name="phone" type="text" value="{{request.user.phone_number}}"></input>
            <br>
            
            <div class="d-xxl-flex d-xl-flex d-lg-flex align-items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="me-1 edit-icon d-inline bi bi-envelope-fill" viewBox="0 0 16 16">
                    <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555zM0 4.697v7.104l5.803-3.558L0 4.697zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757zm3.436-.586L16 11.801V4.697l-5.803 3.546z"/>
                </svg>
                <input id="editp" class=" form-control" name="email" type="text" value="{{request.user.email}}"></input>
                <div class="mt-2 ms-auto align-items-center">
                    <input type="submit" class="mx-auto w-100 btn register-btn text-register" value="Guardar"/>
                </div> 
            </div> 
            
        </div>
        </div>
        
    
                
        
    </div>
    </form>
</section>
<script type="text/javascript">
    profileimg.onchange = evt => {
            const [file] = profileimg.files
            if (file) {
                profileimage.src = URL.createObjectURL(file)
            }
    }
</script>
{% endblock content %}